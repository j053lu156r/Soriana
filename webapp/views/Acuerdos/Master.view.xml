<mvc:View displayBlock="true" 
    xmlns:f="sap.f" 
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:fb="sap.ui.comp.filterbar" 
    xmlns:vm="sap.ui.comp.variants" 
    xmlns="sap.m" 
    xmlns:core="sap.ui.core"
	 controllerName="demo.controllers.Acuerdos.Master" height="100%">
	<f:DynamicPage  
		class="sapUiContentPadding">
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <f:content>
                    <fb:FilterBar id="filterBar"  header="Header"
		                reset="onReset" search="searchData" clear="clearFilters" cancel="onCancel" 
		                filtersDialogClosed = "onFiltersDialogClosed"
		                showRestoreButton="false" showClearButton="false" useToolbar="false"> 
			
                        <fb:filterGroupItems>
                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="A" label="{appTxts>/acuerdos.sociedad}" mandatory="false" partOfCurrentVariant="true" visibleInFilterBar="true">
                                <fb:control>
                                    <Input
                                        id="sociedadInput"
                                        placeholder="{appTxts>/acuerdos.sociedad}"
                                        showSuggestion="true"
                                        >
                                    </Input>
                                </fb:control>
                            </fb:FilterGroupItem>
                        
                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="B" label="{appTxts>/acuerdos.docto}" mandatory="false" partOfCurrentVariant="true" visibleInFilterBar="true">
                                <fb:control>
                                    <Input
                                        id="documentoInput"
                                        placeholder="{appTxts>/acuerdos.docto}"
                                        showSuggestion="true"
                                        >
                                    </Input>
                                </fb:control>
                            </fb:FilterGroupItem>

                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="C" label="{appTxts>/acuerdos.ejercicio}" mandatory="false" partOfCurrentVariant="true" visibleInFilterBar="true">
                                <fb:control>
                                    <Input
                                        id="ejercicioInput"
                                        placeholder="{appTxts>/acuerdos.ejercicio}"
                                        showSuggestion="true"
                                        >
                                    </Input>
                                </fb:control>
                            </fb:FilterGroupItem>

                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="D" label="{appTxts>/acuerdos.acuerdo}" mandatory="false" partOfCurrentVariant="true" visibleInFilterBar="true">
                                <fb:control>
                                    <Input
                                        id="acuerdoInput"
                                        placeholder="{appTxts>/acuerdos.acuerdo}"
                                        showSuggestion="true"
                                        >
                                    </Input>
                                </fb:control>
                            </fb:FilterGroupItem>

                        </fb:filterGroupItems>

	                </fb:FilterBar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>
		<f:content>
            <VBox>
			<Table 
                noDataText="{appTxts>/acuerdos.noData}" 
                id="tableAcuerdos"
                items="{3AcuerdosHdr>/AcuerdosDet/results}">
                <headerToolbar>
                    <OverflowToolbar>
                        <Title text="{appTxts>/acuerdos.title} ({3AcuerdosHdr>/AcuerdosDet/results/length})" />
                        <ToolbarSpacer/>
                        <Select 
                            visible="{= ${3AcuerdosHdr>/AcuerdosDet/Paginated/results/length} > 0 }"
                            change=".paginateValue(${$parameters>/selectedItem}, '3AcuerdosHdr', '/AcuerdosDet')">
                            <items>
                                <core:Item key="10" text="10"/>
                                <core:Item key="20" text="20"/>
                                <core:Item key="50" text="50"/>
                                <core:Item key="100" text="100"/>
                            </items>
                        </Select>
                    </OverflowToolbar>
                </headerToolbar>
				<columns>
                	<Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text text="{appTxts>/acuerdos.sucursal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
                    <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text text="{appTxts>/acuerdos.base}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
					<Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text text="{appTxts>/acuerdos.desc}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
					<Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text text="{appTxts>/acuerdos.iva}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
					<Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text text="{appTxts>/acuerdos.pDesc}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
				</columns>
				<items>
					<ColumnListItem >                    
						<cells>
                            <Text xmlns="sap.m" 
                                text="{3AcuerdosHdr>Centro}"/>
                            <ObjectNumber
                                number="{3AcuerdosHdr>Base}"
                                unit="MXN"/>
                            <ObjectNumber
                                number="{3AcuerdosHdr>Descuento}"
                                unit="MXN"/>
                            <ObjectNumber
                                number="{3AcuerdosHdr>IVA}"
                                unit="MXN"/>
                            <ObjectNumber
                                number="{3AcuerdosHdr>PDesc}"
                                unit="{3AcuerdosHdr>Unidad}"
                                state="Success" />
						</cells>
					</ColumnListItem>
				</items>
			</Table>
            <OverflowToolbar visible="{= ${3AcuerdosHdr>/AcuerdosDet/Paginated/results/length} > 0 }">
                <Text text="{3AcuerdosHdr>/AcuerdosDet/Paginated/initRow} - {3AcuerdosHdr>/AcuerdosDet/Paginated/endRow} {appTxts>/pagination.of} {3AcuerdosHdr>/AcuerdosDet/results/length}" />
                <ToolbarSpacer/>
                <Button type="Default" icon="sap-icon://slim-arrow-left" 
                        press=".prevPagination(${3AcuerdosHdr>/AcuerdosDet/Paginated/iterator}, ${3AcuerdosHdr>/AcuerdosDet/Paginated/initRow}, '3AcuerdosHdr', '/AcuerdosDet')" 
                        enabled="{= ${3AcuerdosHdr>/AcuerdosDet/Paginated/iterator} !== 1}" />
                <Button type="Default" icon="sap-icon://slim-arrow-right" 
                        press=".nextPagination(${3AcuerdosHdr>/AcuerdosDet/Paginated/iterator}, ${3AcuerdosHdr>/AcuerdosDet/Paginated/endRow}, '3AcuerdosHdr', '/AcuerdosDet')" 
                        enabled="{= ${3AcuerdosHdr>/AcuerdosDet/Paginated/endRow} !== ${3AcuerdosHdr>/AcuerdosDet/results/length}}" />
            </OverflowToolbar>
            </VBox>
		</f:content>
	</f:DynamicPage>
</mvc:View>