<mvc:View xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    controllerName="demo.controllers.Acuerdos.DetailANS"
	xmlns="sap.uxap"
	xmlns:layout="sap.ui.layout"
	xmlns:m="sap.m"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
	height="100%">
	<ObjectPageLayout id="ObjectPageLayout" 
        showTitleInHeaderContent="true" 
        upperCaseAnchorBar="false">
		<headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <expandedHeading>
                    <m:Title text="Tienda: {HeadCargoNS>/Tienda}" wrapping="true"/>
                </expandedHeading>

                <snappedHeading>
                    <m:FlexBox fitContainer="true" alignItems="Center">
                        <m:Title text="Tienda: {HeadCargoNS>/Tienda}" wrapping="true" />
                    </m:FlexBox>
                </snappedHeading>

                <actions>
                    <m:OverflowToolbarButton type="Transparent" icon="sap-icon://full-screen" press="handleFullScreen" id="enterFullScreenBtn" tooltip="Enter Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/fullScreen} !== null }"/>
					<m:OverflowToolbarButton type="Transparent" icon="sap-icon://exit-full-screen" press="handleExitFullScreen" id="exitFullScreenBtn" tooltip="Exit Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/exitFullScreen} !== null }"/>
					<m:OverflowToolbarButton type="Transparent" icon="sap-icon://decline" press="handleClose"  tooltip="Close column" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
                </actions>
            </ObjectPageDynamicHeaderTitle>
		</headerTitle>

		<headerContent>
            <m:VBox>
                <!--<m:Panel>-->
    			    <m:FlexBox direction="Column" alignItems="Center">
                        <m:Label text="Documento: {HeadCargoNS>/Documento}" design="Bold"/>
			        </m:FlexBox>
                <!--</m:Panel>-->
            </m:VBox>
		</headerContent>

		<sections>
			<ObjectPageSection>
				<subSections>
					<ObjectPageSubSection>
						<blocks>
							<m:VBox>
                                <m:Table 
                                    noDataText="{appTxts>/acuerdos.noData}" 
                                    id="DetCargoNS"
                                    items="{DetCargoNSHdr>/AcuNivSerDet/Paginated/results}">
                                    <m:headerToolbar>
                                        <m:OverflowToolbar>
                                            <m:Title text="{appTxts>/cargoNS.cargoDetMov} ({DetCargoNSHdr>/AcuNivSerDet/results/length})" />
                                            <m:ToolbarSpacer/>
                                            <m:Button icon="sap-icon://excel-attachment" text="{appTxts>/global.export}" 
                                                press=".buildExportTable"
                                                visible="{= ${DetCargoNSHdr>/AcuNivSerDet/results/length} > 0}"
                                            />
                                            <m:Select 
                                                visible="{= ${DetCargoNSHdr>/AcuNivSerDet/Paginated/results/length} > 0 }"
                                                change=".paginateValue(${$parameters>/selectedItem}, 'DetCargoNSHdr', '/AcuNivSerDet')">
                                                <m:items>
                                                    <core:Item key="10" text="10"/>
                                                    <core:Item key="20" text="20"/>
                                                    <core:Item key="50" text="50"/>
                                                    <core:Item key="100" text="100"/>
                                                </m:items>
                                            </m:Select>
                                        </m:OverflowToolbar>
                                    </m:headerToolbar>
                                    <m:columns>
                                        <m:Column width="18em" hAlign="Left" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                            <m:header>
                                                <m:Text text="{appTxts>/cargoNS.codigo}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:header>
                                            <m:footer>
                                                <m:Text text="Total" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:footer>
                                        </m:Column>
                                        <m:Column width="6em" hAlign="Center" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                            <m:header>
                                                <m:Text text="{appTxts>/cargoNS.sucursal}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:header>
                                        </m:Column>
                                        <m:Column width="7em" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                            <m:header>
                                                <m:Text text="{appTxts>/cargoNS.pedido}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:header>
                                        </m:Column>
                                        <m:Column width="6em" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                            <m:header>
                                                <m:Text text="{appTxts>/cargoNS.cantidad}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:header>
                                        </m:Column>
                                        <m:Column width="auto" hAlign="Right" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                            <m:header>
                                                <m:Text text="{appTxts>/cargoNS.precUnit}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:header>
                                            <m:footer>
                                            </m:footer>
                                        </m:Column>
                                        <m:Column width="auto" hAlign="Right" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                            <m:header>
                                                <m:Text text="{appTxts>/cargoNS.costo}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:header>
                                            <m:footer>
                                            </m:footer>
                                        </m:Column>
                                        <m:Column width="auto" hAlign="Right" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                            <m:header>
                                                <m:Text text="{appTxts>/cargoNS.cargo}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:header>
                                            <m:footer>
                                                <m:ObjectNumber
                                                    number="{
                                                        parts:[{path:'TotCargoNS>/TotCargo'},{path:'CurrencyCode'}],
                                                        type: 'sap.ui.model.type.Currency',
                                                        formatOptions: {showMeasure: false}
                                                            }"
                                                    unit="MXN" />
                                            </m:footer>
                                        </m:Column>
                                        <m:Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                            <m:header>
                                                <m:Text text="{appTxts>/cargoNS.ieps}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:header>
                                            <m:footer>
                                                <m:ObjectNumber
                                                    number="{
                                                        parts:[{path:'TotCargoNS>/TotIEPS'},{path:'CurrencyCode'}],
                                                        type: 'sap.ui.model.type.Currency',
                                                        formatOptions: {showMeasure: false}
                                                            }"
                                                    unit="MXN" />
                                            </m:footer>
                                        </m:Column>
                                        <m:Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                            <m:header>
                                                <m:Text text="{appTxts>/cargoNS.iva}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:header>
                                            <m:footer>
                                                <m:ObjectNumber
                                                    number="{
                                                        parts:[{path:'TotCargoNS>/TotIVA'},{path:'CurrencyCode'}],
                                                        type: 'sap.ui.model.type.Currency',
                                                        formatOptions: {showMeasure: false}
                                                            }"
                                                    unit="MXN" />
                                            </m:footer>
                                        </m:Column>
                                        <m:Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                            <m:header>
                                                <m:Text text="{appTxts>/cargoNS.total}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                            </m:header>
                                            <m:footer>
                                                <m:ObjectNumber
                                                    number="{
                                                        parts:[{path:'TotCargoNS>/TotTotal'},{path:'CurrencyCode'}],
                                                        type: 'sap.ui.model.type.Currency',
                                                        formatOptions: {showMeasure: false}
                                                            }"
                                                    unit="MXN" />
                                            </m:footer>
                                        </m:Column>
                                    </m:columns>
                                    <m:items>
                                        <m:ColumnListItem>                    
                                            <m:cells>
                                                <m:ObjectIdentifier 
                                                    title="{DetCargoNSHdr>Ean11}" 
                                                    text="{DetCargoNSHdr>Maktx}"
                                                    titleActive="true"/>
                                                <m:Text text="{DetCargoNSHdr>Werks}"/>
                                                <m:Text text="{DetCargoNSHdr>Ebeln}"/>
                                                <m:Text text="{DetCargoNSHdr>Menge}"/>
                                                <m:ObjectNumber
                                                    number="{
                                                        parts:[{path:'DetCargoNSHdr>Zvkp0'},{path:'CurrencyCode'}],
                                                        type: 'sap.ui.model.type.Currency',
                                                        formatOptions: {showMeasure: false}
                                                            }"
                                                    unit="MXN" />
                                                <m:ObjectNumber
                                                    number="{
                                                        parts:[{path:'DetCargoNSHdr>Zpb00'},{path:'CurrencyCode'}],
                                                        type: 'sap.ui.model.type.Currency',
                                                        formatOptions: {showMeasure: false}
                                                            }"
                                                    unit="MXN" />
                                                <m:ObjectNumber
                                                    number="{
                                                        parts:[{path:'DetCargoNSHdr>Zboni'},{path:'CurrencyCode'}],
                                                        type: 'sap.ui.model.type.Currency',
                                                        formatOptions: {showMeasure: false}
                                                            }"
                                                    unit="MXN" />
                                                <m:ObjectNumber
                                                    number="{
                                                        parts:[{path:'DetCargoNSHdr>Zieps'},{path:'CurrencyCode'}],
                                                        type: 'sap.ui.model.type.Currency',
                                                        formatOptions: {showMeasure: false}
                                                            }"
                                                    unit="MXN" />
                                                <m:ObjectNumber
                                                    number="{
                                                        parts:[{path:'DetCargoNSHdr>Ziva'},{path:'CurrencyCode'}],
                                                        type: 'sap.ui.model.type.Currency',
                                                        formatOptions: {showMeasure: false}
                                                            }"
                                                    unit="MXN" />
                                                <m:ObjectNumber
                                                    number="{
                                                        parts:[{path:'DetCargoNSHdr>Total'},{path:'CurrencyCode'}],
                                                        type: 'sap.ui.model.type.Currency',
                                                        formatOptions: {showMeasure: false}
                                                            }"
                                                    unit="MXN" />
                                            </m:cells>
                                        </m:ColumnListItem>
                                    </m:items>
                                </m:Table>
                                <m:OverflowToolbar visible="{= ${DetCargoNSHdr>/AcuNivSerDet/Paginated/results/length} > 0 }">
                                    <m:Text text="{DetCargoNSHdr>/AcuNivSerDet/Paginated/initRow} - {DetCargoNSHdr>/AcuNivSerDet/Paginated/endRow} {appTxts>/pagination.of} {DetCargoNSHdr>/AcuNivSerDet/results/length}" />
                                    <m:ToolbarSpacer/>
                                    <m:Button type="Default" icon="sap-icon://slim-arrow-left" 
                                            press=".prevPagination(${DetCargoNSHdr>/AcuNivSerDet/Paginated/iterator}, ${DetCargoNSHdr>/AcuNivSerDet/Paginated/initRow}, 'DetCargoNSHdr', '/AcuNivSerDet')" 
                                            enabled="{= ${DetCargoNSHdr>/AcuNivSerDet/Paginated/iterator} !== 1}" />
                                    <m:Button type="Default" icon="sap-icon://slim-arrow-right" 
                                            press=".nextPagination(${DetCargoNSHdr>/AcuNivSerDet/Paginated/iterator}, ${DetCargoNSHdr>/AcuNivSerDet/Paginated/endRow}, 'DetCargoNSHdr', '/AcuNivSerDet')" 
                                            enabled="{= ${DetCargoNSHdr>/AcuNivSerDet/Paginated/endRow} !== ${DetCargoNSHdr>/AcuNivSerDet/results/length}}" />
                                </m:OverflowToolbar>
                            </m:VBox>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
		</sections>
	</ObjectPageLayout>
</mvc:View>