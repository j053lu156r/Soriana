<mvc:View displayBlock="true" xmlns:f="sap.f" xmlns:mvc="sap.ui.core.mvc" xmlns:fb="sap.ui.comp.filterbar" xmlns:vm="sap.ui.comp.variants" xmlns="sap.m" xmlns:core="sap.ui.core" controllerName="demo.controllers.AcuerdosGral.Master" height="100%">
    <f:DynamicPage class="sapUiContentPadding">
        <!-- DynamicPage Header -->
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <f:content>
                    <fb:FilterBar id="filterBar" header="Header" reset="onReset" search="searchData" clear="clearFilters" cancel="onCancel" filtersDialogClosed="onFiltersDialogClosed" showRestoreButton="false" useToolbar="false">
                        <fb:filterGroupItems>
                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="A" label="{appTxts>/acuerdosGral.proveedor}" mandatory="true" visibleInFilterBar="true">
                                <fb:control>
                                    <Input id="supplierInput" placeholder="{appTxts>/acuerdosGral.proveedor}" showSuggestion="true" valueHelpOnly="true" showValueHelp="true" valueHelpRequest=".onValueHelpRequest" value="{configSite>/supplierInput}" />
                                </fb:control>
                            </fb:FilterGroupItem>

                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="B" label="{appTxts>/acuerdosGral.documento}" mandatory="false" visibleInFilterBar="true">
                                <fb:control>
                                    <Input id="documentoInput" placeholder="{appTxts>/acuerdosGral.documento}" showSuggestion="true" required="true" />
                                </fb:control>
                            </fb:FilterGroupItem>

                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="C" label="{appTxts>/acuerdosGral.convenio}" mandatory="false" visibleInFilterBar="true">
                                <fb:control>
                                    <Input id="convenioInput" placeholder="{appTxts>/acuerdosGral.convenio}" showSuggestion="true" />
                                </fb:control>
                            </fb:FilterGroupItem>

                            <fb:FilterGroupItem groupName="__$INTERNAL$" name="D" label="{appTxts>/acuerdosGral.centro}" mandatory="false" visibleInFilterBar="true">
                                <fb:control>
                                    <Input id="centroInput" placeholder="{appTxts>/acuerdosGral.centro}" showSuggestion="true" />
                                </fb:control>
                            </fb:FilterGroupItem>
                        </fb:filterGroupItems>
                    </fb:FilterBar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>
        <f:content>
            <VBox>
                <Table sticky="HeaderToolbar,InfoToolbar,ColumnHeaders" noDataText="{appTxts>/acuerdosGral.noData}" id="tableAcuerdosGral" alternateRowColors="true" items="{path: 'AcuerdosGralHdr>/', sorter : { path : 'Belnr', descending : true }}">
                    <headerToolbar>
                        <OverflowToolbar>
                            <Title text="{appTxts>/acuerdosGral.title} ({AcuerdosGralHdr>/length})" />
                            <ToolbarSpacer />
                            <Button icon="sap-icon://excel-attachment" text="{appTxts>/global.export}" press=".buildExportTable" visible="{= ${AcuerdosGralHdr>/length} > 0}" />
                            <!--<Select visible="{= ${AportacionesHdr>/AportaDet/Paginated/results/length} > 0 }" change=".paginateValue(${$parameters>/selectedItem}, 'AportacionesHdr', '/AportaDet')">
                                <items>
                                    <core:Item key="10" text="10" />
                                    <core:Item key="20" text="20" />
                                    <core:Item key="50" text="50" />
                                    <core:Item key="100" text="100" />
                                </items>
                            </Select>-->
                        </OverflowToolbar>
                    </headerToolbar>
                    <columns>
                        <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.proveedor}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                        <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.documento}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                        <Column width="auto" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.convenio}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                        <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.centro}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                        <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.folio}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                        <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.base}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                        <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.descto}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                        <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.iva}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                        <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.ieps}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                        <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.pDescto}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                        <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                            <header>
                                <Text text="{appTxts>/acuerdosGral.fecCargo}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit" />
                            </header>
                            <footer />
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <ObjectIdentifier title="{AcuerdosGralHdr>Lifnr}" />
                                <Text text="{AcuerdosGralHdr>Belnr}" />
                                <Text text="{AcuerdosGralHdr>Conve}" />
                                <Text text="{AcuerdosGralHdr>Werks}" />
                                <Text text="{AcuerdosGralHdr>Folio}" />
                                <ObjectNumber
                                    emphasized="false"
                                    number="{
                                        parts:[{path:'AcuerdosGralHdr>Base'},{path:'CurrencyCode'}],
                                        type: 'sap.ui.model.type.Currency',
                                        formatOptions: {showMeasure: false}
                                        }"
                                    unit="MXN"
                                    state="None"
                                />
                                <ObjectNumber
                                    emphasized="false"
                                    number="{
                                        parts:[{path:'AcuerdosGralHdr>Desct'},{path:'CurrencyCode'}],
                                        type: 'sap.ui.model.type.Currency',
                                        formatOptions: {showMeasure: false}
                                        }"
                                    unit="MXN"
                                    state="None"
                                />
                                <ObjectNumber
                                    emphasized="false"
                                    number="{
                                        parts:[{path:'AcuerdosGralHdr>Iva'},{path:'CurrencyCode'}],
                                        type: 'sap.ui.model.type.Currency',
                                        formatOptions: {showMeasure: false}
                                        }"
                                    unit="MXN"
                                    state="None"
                                />
                                <ObjectNumber
                                    emphasized="false"
                                    number="{
                                        parts:[{path:'AcuerdosGralHdr>Ieps'},{path:'CurrencyCode'}],
                                        type: 'sap.ui.model.type.Currency',
                                        formatOptions: {showMeasure: false}
                                        }"
                                    unit="MXN"
                                    state="None"
                                />
                                <ObjectNumber
                                    emphasized="false"
                                    number="{
                                        parts:[{path:'AcuerdosGralHdr>Prdes'},{path:'CurrencyCode'}],
                                        type: 'sap.ui.model.type.Currency',
                                        formatOptions: {showMeasure: false}
                                        }"
                                    unit="%"
                                    state="None"
                                />
                                <Text
                                    text="{ 
                                            path: 'AcuerdosGralHdr>Fecca', 
                                            type: 'sap.ui.model.type.DateTime', 
                                            formatOptions: { pattern: 'dd/MM/yyyy', UTC: true } 
                                            }"
                                />
                                <!--<Text text="{ 
                                                path: 'AcuerdosGralHdr>Fecca', 
                                                type: 'sap.ui.model.odata.type.DateTime',
                                                constraints: {
		                                            displayFormat: 'Date'
                                                } }"/>-->
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
                <!--<OverflowToolbar visible="{= ${AportacionesHdr>/AportaDet/Paginated/results/length} > 0 }">
                    <Text text="{AportacionesHdr>/AportaDet/Paginated/initRow} - {AportacionesHdr>/AportaDet/Paginated/endRow} {appTxts>/pagination.of} {AportacionesHdr>/AportaDet/results/length}" />
                    <ToolbarSpacer />
                    <Button
                        type="Default"
                        icon="sap-icon://slim-arrow-left"
                        press=".prevPagination(${AportacionesHdr>/AportaDet/Paginated/iterator}, ${AportacionesHdr>/AportaDet/Paginated/initRow}, 'AportacionesHdr', '/AportaDet')"
                        enabled="{= ${AportacionesHdr>/AportaDet/Paginated/iterator} !== 1}"
                    />
                    <Button
                        type="Default"
                        icon="sap-icon://slim-arrow-right"
                        press=".nextPagination(${AportacionesHdr>/AportaDet/Paginated/iterator}, ${AportacionesHdr>/AportaDet/Paginated/endRow}, 'AportacionesHdr', '/AportaDet')"
                        enabled="{= ${AportacionesHdr>/AportaDet/Paginated/endRow} !== ${AportacionesHdr>/AportaDet/results/length}}"
                    />
                </OverflowToolbar>-->
            </VBox>
        </f:content>
    </f:DynamicPage>
</mvc:View>
