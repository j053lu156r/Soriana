<mvc:View displayBlock="true" 
        controllerName="demo.controllers.Aportaciones.Detail" 
        height="100%"
		xmlns="sap.uxap"
		xmlns:mvc="sap.ui.core.mvc"
		xmlns:m="sap.m"
		xmlns:f="sap.f"
		xmlns:form="sap.ui.layout.form">

	<ObjectPageLayout id="ObjectPageLayout"
					showTitleInHeaderContent="true"
					alwaysShowContentHeader="false"
					preserveHeaderStateOnScroll="false"
					headerContentPinnable="true"
					isChildPage="true"
					upperCaseAnchorBar="false">

				<headerTitle>
					<ObjectPageDynamicHeaderTitle>
						<expandedHeading>
							<m:Title text="{aportaDetModel>/Folio}" wrapping="true" class="sapUiSmallMarginEnd"/>
						</expandedHeading>

						<snappedHeading>
							<m:FlexBox wrap="Wrap" fitContainer="true" alignItems="Center">
								<m:FlexBox wrap="NoWrap" fitContainer="true" alignItems="Center" class="sapUiTinyMarginEnd">
									<f:Avatar src="../../../../../../../{products>ProductPicUrl}" displaySize="S" displayShape="Square" class="sapUiTinyMarginEnd"/>
									<m:Title text="{aportaDetModel>/Folio}" wrapping="true" class="sapUiTinyMarginEnd"/>
								</m:FlexBox>
							</m:FlexBox>
						</snappedHeading>

                        <expandedContent>
                            <m:Text text="{aportaDetModel>/Concepto}"/>
                        </expandedContent>

                        <snappedContent>
                            <m:Text text="{aportaDetModel>/Concepto}"/>
                        </snappedContent>

						<navigationActions>
							<m:OverflowToolbarButton type="Transparent" icon="sap-icon://full-screen" press="handleFullScreen" id="enterFullScreenBtn" tooltip="Enter Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/fullScreen} !== null }"/>
							<m:OverflowToolbarButton type="Transparent" icon="sap-icon://exit-full-screen" press="handleExitFullScreen" id="exitFullScreenBtn" tooltip="Exit Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/exitFullScreen} !== null }"/>
							<m:OverflowToolbarButton type="Transparent" icon="sap-icon://decline" press="handleClose"  tooltip="Close column" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
						</navigationActions>

					</ObjectPageDynamicHeaderTitle>
				</headerTitle>

				<headerContent>
					<m:FlexBox wrap="Wrap" fitContainer="true" alignItems="Stretch">
						<f:Avatar src="sap-icon://batch-payments"
								  displaySize="L"
								  displayShape="Square"
								  class="sapUiTinyMarginEnd">
						</f:Avatar>
						<m:VBox justifyContent="Center" class="sapUiSmallMarginEnd">
                            <m:Label text="{appTxts>/aportaciones.gerencia}"/>
							<m:Text text="{aportaDetModel>/Gerencia}"/>
						</m:VBox>
						<m:VBox justifyContent="Center" class="sapUiSmallMarginEnd">
                            <m:Label text="{appTxts>/aportaciones.impTot}"/>
                            <m:ObjectNumber
                                emphasized="true"
                                number="{
                                    parts:[{path:'aportaDetModel>/Importe'},{path:'CurrencyCode'}],
                                    type: 'sap.ui.model.type.Currency',
                                    formatOptions: {showMeasure: false}
                                        }"
                                unit="MXN"
                                state="Success" />
						</m:VBox>
					</m:FlexBox>
				</headerContent>

		<sections>
			<!--<ObjectPageSection title="Información general">
				<subSections>
					<ObjectPageSubSection>
						<blocks>
							<form:SimpleForm
								maxContainerCols="2"
								editable="false"
								layout="ResponsiveGridLayout"
								labelSpanL="12"
								labelSpanM="12"
								emptySpanL="0"
								emptySpanM="0"
								columnsL="1"
								columnsM="1">
								<form:content>
                                    <m:Label text="Total Cálculo"/>
									<m:Text text="{products>ProductId}"/>
                                    <m:Label text="% Participación Proveedor"/>
									<m:Text text="{products>SupplierName}"/>
								</form:content>
							</form:SimpleForm>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>-->

			<ObjectPageSection >
				<subSections>
					<ObjectPageSubSection>
						<blocks>
							<m:Table sticky="HeaderToolbar,InfoToolbar,ColumnHeaders" 
                                    noDataText="{appTxts>/aportaciones.noData}" 
                                    id="aportaDetTable"
                                    alternateRowColors="true" 
									items="{AportacionesDet>/AportaDetalle/results}">
                                     <m:headerToolbar>
                                        <m:OverflowToolbar>
                                            <m:Title text="{appTxts>/aportaciones.titleDet} ({AportacionesDet>/AportaDetalle/results/length})" />
                                            <m:ToolbarSpacer/>
                                            <m:Button icon="sap-icon://excel-attachment" text="{appTxts>/global.export}" 
                                                press=".buildExportTable"
                                                visible="{= ${AportacionesDet>/AportaDetalle/results/length} > 0}"
                                            />
                                            <!--<Select 
                                                visible="{= ${AcuerdosHdr>/AcuerdosDet/Paginated/results/length} > 0 }"
                                                change=".paginateValue(${$parameters>/selectedItem}, 'AcuerdosHdr', '/AcuerdosDet')">
                                                <items>
                                                    <core:Item key="10" text="10"/>
                                                    <core:Item key="20" text="20"/>
                                                    <core:Item key="50" text="50"/>
                                                    <core:Item key="100" text="100"/>
                                                </items>
                                            </Select>-->
                                        </m:OverflowToolbar>
                                    </m:headerToolbar>
								<m:columns>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/aportaciones.tienda}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/aportaciones.articulo}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/aportaciones.piezas}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                    </m:Column>
                                    <!--<m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/aportaciones.vtaNeta}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                    </m:Column>-->
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/aportaciones.bonif}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/aportaciones.iva}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/aportaciones.ieps}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/aportaciones.total}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/aportaciones.aporta}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                    </m:Column>
								</m:columns>
								<m:items>
									<m:ColumnListItem >
										<m:cells>
                                            <m:ObjectIdentifier title="{AportacionesDet>Werks}" 
                                                text="{AportacionesDet>Namew}" />
                                            <m:ObjectIdentifier title="{AportacionesDet>Matnr}"
                                                text="{AportacionesDet>Maktx}" />
                                            <m:ObjectIdentifier
                                                text="{
                                                    path: 'AportacionesDet>Zcantidad',
                                                    type: 'sap.ui.model.type.Float',
                                                    formatOptions: {
                                                        maxFractionDigits: 6
                                                        }
                                                    }" />
                                            <!--<m:ObjectIdentifier
                                                text="{
                                                    path: 'AportacionesDet>Zbonificacion',
                                                    type: 'sap.ui.model.type.Float',
                                                    formatOptions: {
                                                        maxFractionDigits: 2
                                                        }
                                                    }" />-->
                                            <m:ObjectIdentifier
                                                text="{
                                                    path: 'AportacionesDet>Zbonificacion',
                                                    type: 'sap.ui.model.type.Float',
                                                    formatOptions: {
                                                        maxFractionDigits: 6
                                                        }
                                                    }" />
                                            <m:ObjectIdentifier
                                                text="{
                                                    path: 'AportacionesDet>Ziva',
                                                    type: 'sap.ui.model.type.Float',
                                                    formatOptions: {
                                                        maxFractionDigits: 6
                                                        }
                                                    }" />
                                            <m:ObjectIdentifier
                                                text="{
                                                    path: 'AportacionesDet>Zieps',
                                                    type: 'sap.ui.model.type.Float',
                                                    formatOptions: {
                                                        maxFractionDigits: 6
                                                        }
                                                    }" />
                                            <m:ObjectNumber
                                                emphasized="true"
                                                number="{
                                                    parts:[{path:'AportacionesDet>Ztotal'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="MXN"
                                                state="Success" />
                                            <m:ObjectIdentifier
                                                text="{
                                                    path: 'AportacionesDet>Zaportacion',
                                                    type: 'sap.ui.model.type.Float',
                                                    formatOptions: {
                                                        maxFractionDigits: 6
                                                        }
                                                    }" />
										</m:cells>
									</m:ColumnListItem>
								</m:items>
							</m:Table>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
		</sections>
	</ObjectPageLayout>
</mvc:View>