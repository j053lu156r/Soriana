<mvc:View displayBlock="true" 
    xmlns:f="sap.f" 
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:fb="sap.ui.comp.filterbar" 
    xmlns:vm="sap.ui.comp.variants" 
    xmlns="sap.m" 
    xmlns:core="sap.ui.core"
	controllerName="demo.controllers.BoletinVta.MasterVendor" height="100%">
	<f:DynamicPage id="_IDGenDynamicPage1"  
		class="sapUiContentPadding">
        <!-- DynamicPage Title -->
        <f:title>
            <f:DynamicPageTitle id="_IDGenDynamicPageTitle1" backgroundDesign="Transparent">
                <f:heading>
                    <vm:VariantManagement id="_IDGenVariantManagement1" standardItemText="{appTxts>/foliosCap.title}">
                    </vm:VariantManagement>
                </f:heading>
            </f:DynamicPageTitle>
        </f:title>
        <!-- DynamicPage Header -->
        <f:header>
            <f:DynamicPageHeader id="_IDGenDynamicPageHeader1" pinnable="true">
                <f:content>
                    <fb:FilterBar id="filterBar"  header="Header"
		                reset="onReset" search="searchData" clear="clearFilters" cancel="onCancel" 
		                filtersDialogClosed = "onFiltersDialogClosed"
		                showRestoreButton="false" showClearButton="false" useToolbar="false"> 
			
                        <fb:filterGroupItems>
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem1" groupName="__$INTERNAL$" name="Ab" label="{appTxts>/foliosCap.supplier}" 
                                                mandatory="true" partOfCurrentVariant="true" visibleInFilterBar="true">
                                <fb:control>
                                    <Input
                                        id="supplierInput"
                                        placeholder="{appTxts>/foliosCap.supplier}"
                                        showSuggestion="true"
                                        valueHelpOnly="true"
                                        showValueHelp="true"
                                        valueHelpRequest=".onValueHelpRequest"
                                        value="{configSite>/supplierInput}"
                                        >
                                    </Input>
                                </fb:control>
                            </fb:FilterGroupItem>
                        
                            <fb:FilterGroupItem id="_IDGenFilterGroupItem2" groupName="__$INTERNAL$" name="A" label="{appTxts>/foliosCap.promocion}" mandatory="false" partOfCurrentVariant="true" visibleInFilterBar="true">
                                <fb:control>
                                    <Input
                                        id="promocionInput"
                                        placeholder="{appTxts>/foliosCap.promocion}"
                                        showSuggestion="true"
                                        >
                                    </Input>
                                </fb:control>
                            </fb:FilterGroupItem>

                            <fb:FilterGroupItem id="_IDGenFilterGroupItem3" groupName="F1" name="Fecha Factura" label="{appTxts>/foliosCap.fecha}" mandatory="false" partOfCurrentVariant="true" visibleInFilterBar="true">
                                <fb:control>
                                    <DateRangeSelection id="aportaDay" change="onChange" required="false"/>
                                </fb:control>
                            </fb:FilterGroupItem>
                        </fb:filterGroupItems>

	                </fb:FilterBar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>
		<f:content>
            <VBox id="_IDGenVBox1">
			<Table sticky="HeaderToolbar,InfoToolbar,ColumnHeaders" 
                noDataText="{appTxts>/foliosCap.noData}" 
                id="tablePromociones"
                alternateRowColors="true" 
                items="{promocionesHdr>/}"                
				>
                <headerToolbar>
                    <OverflowToolbar id="_IDGenOverflowToolbar1">
                        <Title id="_IDGenTitle1" text="{appTxts>/foliosCap.title} ({promocionesHdr>/length})" />
                        <ToolbarSpacer id="_IDGenToolbarSpacer1"/>
                        <!--
                        <Button id="_IDGenButton1a" icon="sap-icon://customer-financial-fact-sheet" text="Polizas" 
                        press=".onFinancialView" />
                        -->
                        <Button id="_IDGenButton1" icon="sap-icon://excel-attachment" text="{appTxts>/global.export}" 
                        press=".buildExportTable"
                        visible="{= ${promocionesHdr>/length} > 0}"
                        />
                        <Select id="_IDGenSelect1" 
                            visible="{= ${promocionesHdr>/length} > 0 }"
                            change=".paginateValue(${$parameters>/selectedItem}, 'promocionesHdr', '/promocionesHdr')">
                            <items>
                                <core:Item id="_IDGenItem1" key="10" text="10"/>
                                <core:Item id="_IDGenItem2" key="20" text="20"/>
                                <core:Item id="_IDGenItem3" key="50" text="50"/>
                                <core:Item id="_IDGenItem4" key="100" text="100"/>
                            </items>
                        </Select>
                    </OverflowToolbar>
                </headerToolbar>
				<columns>
                	<Column id="_IDGenColumn1" width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text id="_IDGenText1" text="{appTxts>/foliosCap.promocion}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
					<Column id="_IDGenColumn2" width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text id="_IDGenText2" text="{appTxts>/foliosCap.currency}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
					<Column id="_IDGenColumn3" width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text id="_IDGenText3" text="{appTxts>/foliosCap.dateFrom}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
					<Column id="_IDGenColumn4" width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text id="_IDGenText4" text="{appTxts>/foliosCap.dateTo}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
                    <Column id="_IDGenColumn5" width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text id="_IDGenText5" text="{appTxts>/foliosCap.promClass}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>   
                    <Column id="_IDGenColumn6" width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text id="_IDGenText6" text="{appTxts>/foliosCap.actionVendor}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column> 
                    <!--
                    <Column id="_IDGenColumn6b" width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text id="_IDGenText6b" text="PDF" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
                    -->
                    <Column id="_IDGenColumn6PDFV" width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
						<header>
							<Text id="_IDGenText6PDFV" text="" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
						</header>
						<footer/>
					</Column>
				</columns>
				<items>
					<ColumnListItem id="_IDGenColumnListItem1" type="Navigation" press="onListItemPress">                    
						<cells>
                            <ObjectIdentifier id="_IDGenObjectIdentifier1" xmlns="sap.m" 
                                              title="{promocionesHdr>Promotion}"
                                              text="{promocionesHdr>Description}"/>
							<Text id="_IDGenText7" xmlns="sap.m" text="{promocionesHdr>CurrencyProm}"/>
							<Text id="_IDGenText8" xmlns="sap.m" text="{path: 'promocionesHdr>EarliestDate', formatter: '.ReverseDate'}"/>
                            <Text id="_IDGenText9" xmlns="sap.m" text="{path: 'promocionesHdr>LatestDate', formatter: '.ReverseDate'}"/>
                            <Text id="_IDGenText10" xmlns="sap.m" text="{promocionesHdr>PromClass}"/>
                            <Button id="_IDGenButton2" xmlns="sap.m" 
                                    type="Accept" 
                                    text="{appTxts>/foliosCap.aprove}" 
                                    press="onPressAccept"
                                    icon="sap-icon://accept"
                                    enabled="{= ${promocionesHdr>Status} === '1' ? true : false }"/>
                            <!--
                            <Button id="_IDGenButtonPDF" xmlns="sap.m" 
                                    type="Accept" 
                                    text="{appTxts>/foliosCap.attachPDF}" 
                                    press="openUploadDialog"
                                    icon="sap-icon://pdf-attachment"
                                    enabled="{= ${promocionesHdr>Status} === '2' ? false : true }"/>
                            -->
                            <Button id="_IDGenButtonPDFview" xmlns="sap.m" 
                                    type="Accept" 
                                    text="Ver" 
                                    press=".onOpenPDF"
                                    icon="sap-icon://pdf-reader"
                                    enabled="{= ${promocionesHdr>Status} === '1' || ${promocionesHdr>Status} === '2' ? true : false }"
                                    visible="{= ${promocionesHdr>Status} === '1' || ${promocionesHdr>Status} === '2' ? true : false }"/>
                            
						</cells>
					</ColumnListItem>
				</items>
			</Table>
            <OverflowToolbar id="_IDGenOverflowToolbar2" visible="{= ${AportacionesHdr>/AportaDet/Paginated/results/length} > 0 }">
                <Text id="_IDGenText11" text="{AportacionesHdr>/AportaDet/Paginated/initRow} - {AportacionesHdr>/AportaDet/Paginated/endRow} {appTxts>/pagination.of} {AportacionesHdr>/AportaDet/results/length}" />
                <ToolbarSpacer id="_IDGenToolbarSpacer2"/>
                <Button id="_IDGenButton3" type="Default" icon="sap-icon://slim-arrow-left" press=".prevPagination(${AportacionesHdr>/AportaDet/Paginated/iterator}, ${AportacionesHdr>/AportaDet/Paginated/initRow}, 'AportacionesHdr', '/AportaDet')" enabled="{= ${AportacionesHdr>/AportaDet/Paginated/iterator} !== 1}" />
                <Button id="_IDGenButton4" type="Default" icon="sap-icon://slim-arrow-right" press=".nextPagination(${AportacionesHdr>/AportaDet/Paginated/iterator}, ${AportacionesHdr>/AportaDet/Paginated/endRow}, 'AportacionesHdr', '/AportaDet')" enabled="{= ${AportacionesHdr>/AportaDet/Paginated/endRow} !== ${AportacionesHdr>/AportaDet/results/length}}" />
            </OverflowToolbar>
            </VBox>
		</f:content>
	</f:DynamicPage>
</mvc:View>