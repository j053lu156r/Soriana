<core:FragmentDefinition  controllerName="demo.controllers.Products.Master"
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:f="sap.f"
	xmlns:form="sap.ui.layout.form"
	xmlns:u="sap.ui.unified"
    xmlns:l="sap.ui.layout"
    xmlns:upload="sap.m.upload"
	xmlns:layout="sap.ui.layout">
	<Dialog
		id="wizardDialog"
		showHeader="false"
		verticalScrolling="false"
		contentHeight="95%"
		contentWidth="96%">
		<f:DynamicPage
			stickySubheaderProvider="CreateProductWizard"
			toggleHeaderOnTitleClick="false"
			class="sapUiNoContentPadding"
			showFooter="true">
			<f:title>
				<f:DynamicPageTitle>
					<f:heading>
						<Title text="{appTxts>/products.newProduct}"/>
					</f:heading>
				</f:DynamicPageTitle>
			</f:title>

			<f:content>
				<Wizard id="CreateProductWizard"
						class="sapUiResponsivePadding--header sapUiResponsivePadding--content"
						showNextButton="false"
                        stepActivate=".onStepActivate"
						renderMode="Page">
					<WizardStep id="ProductTypeStep"
								title="{appTxts>/products.titleTabGeneralData}"
								validated="false"
                                complete="productTypeComplete"
								>
						<MessageStrip class="sapUiSmallMarginBottom"
								text="{appTxts>/products.msgTabGeneralData}"
								showIcon="true"/>
						<VBox class="sapUiSmallMargin"
								alignItems="Center"
								justifyContent="Center"
								width="100%">
                                <form:Form id="FormChangeColumn_oneGroup234"
                                    editable="true">
                                    <form:layout>
                                        <form:ColumnLayout
                                            columnsM="2"
                                            columnsL="3"
                                            columnsXL="3"
                                        />
                                    </form:layout>
                                    <form:formContainers>
                                        <form:FormContainer>
                                            <form:formElements>
                                                <form:FormElement  label="{appTxts>/products.code}">
                                                    <form:fields>
                                                        <Input editable="false" value="" id="codeGS1" />
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.barCode}">
                                                    <form:fields>
                                                        <Input required="true" id="barCode" type="Number" value="{Folio>/CodEan}" />
                                                        <Button id="btnValidateDataSupplierGS1" press=".validateBarCode" icon="sap-icon://check-availability" text="">
                                                            <layoutData>
                                                                <form:ColumnElementData cellsSmall="1" cellsLarge="1" />
                                                            </layoutData>
                                                        </Button>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.baseProduct}">
                                                    <form:fields>
                                                        <Input required="true" showSuggestion="true" valueHelpOnly="true" showValueHelp="true" valueHelpRequest="onBaseProductRequest" id="baseProduct" value="{FolioToShow>/ProdBase}" />
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.productType}">
                                                    <form:fields>
                                                        <ComboBox selectedKey="{Folio>/TipArt}" required="true" id="productType" items="{
                                                                    path : 'Catalogos>/TiposProducto/results'
                                                                }">
                                                            <items>
                                                                <core:Item key="{Catalogos>Mtart}" text="{Catalogos>Mtbez}"/>
                                                            </items>
                                                        </ComboBox>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.shoppingGroup}">
                                                    <form:fields>
                                                        <Input required="true" value="{Folio>/PurGroup}" id="shoppingGroup" editable="false"/>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.productGroup}">
                                                    <form:fields>
                                                        <ComboBox selectedKey="{Folio>/GrupArt}" id="productGroup" items="{
                                                                    path : 'Catalogos>/GrupoArticulos/results'
                                                                }"
                                                                selectionChange="changeGrupArt">
                                                            <items>
                                                                <core:Item key="{Catalogos>GrupoArt}" text="{Catalogos>DescGart}"/>
                                                            </items>
                                                        </ComboBox>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.supplier}">
                                                    <form:fields>
                                                        <Input required="true"  id="supplierInputFolio"  valueHelpOnly="true" editable="false" enabled="true"  value="{configSite>/supplierInput}" />
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.brand}">
                                                    <form:fields>
                                                        <Input required="true" showSuggestion="true" valueHelpOnly="true" showValueHelp="true" valueHelpRequest="onBrandRequest" value="{FolioToShow>/Marca}"  id="brand"/>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.codeType}">
                                                    <form:fields>
                                                        <ComboBox required="true" selectedKey="{Folio>/EanUpcType}" id="codeType" items="{
                                                                    path : 'Catalogos>/TipoCodigo/results'
                                                                }" >
                                                            <items>
                                                                <core:Item key="{Catalogos>Numtp}" text="{Catalogos>Ntbez}"/>
                                                            </items>
                                                        </ComboBox>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.country}">
                                                    <form:fields>
                                                    <!-- value="{Folio>/txtPais}" -->
                                                        <Input
                                                            id="country"
                                                            textFormatMode="Value"
                                                            showSuggestion="true"
                                                            showValueHelp="true"
                                                            valueHelpRequest=".onValueCountryRequest"
                                                            suggestionItems="{Paises>/results}"
                                                            selectedKey="{Folio>/Pais}"
                                                            suggestionItemSelected=".onSuggestionCountryItemSelected">
                                                            <suggestionItems>
                                                                <core:ListItem
                                                                    key="{Paises>Land1}" text="{Paises>Landx50}"
                                                                    additionalText="{Paises>Landx50}" />
                                                            </suggestionItems>
                                                        </Input>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.model}">
                                                    <form:fields>
                                                        <Input value="{Folio>/Modelo}" id="model" />
                                                    </form:fields>
                                                </form:FormElement>

                                                <form:FormElement label="{appTxts>/products.description}">
                                                    <form:fields>
                                                        <Input required="true" value="{Folio>/DescrArt}" id="description"/>
                                                    </form:fields>
                                                </form:FormElement>

                                                <form:FormElement label="{appTxts>/products.mainFeatureTxt}">
                                                    <form:fields>
                                                        <Input value="{Folio>/CaracPrin}" id="featureMain"/>
                                                    </form:fields>
                                                </form:FormElement>

                                                <form:FormElement label="{appTxts>/products.feature2}">
                                                    <form:fields>
                                                        <Input value="{Folio>/Carac2}" id="feature2"/>
                                                    </form:fields>
                                                </form:FormElement>

                                                <form:FormElement label="{appTxts>/products.feature3}">
                                                    <form:fields>
                                                        <Input value="{Folio>/Carac3}" id="feature3"/>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.labelType}">
                                                    <form:fields>
                                                        <ComboBox selectedKey="{Folio>/TipEtq}" id="labelType" items="{
                                                                    path : 'Catalogos>/TiposEtiqueta/results'
                                                                }">
                                                            <items>
                                                                <core:Item key="{Catalogos>value}" text="{Catalogos>text}"/>
                                                            </items>
                                                        </ComboBox>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.exitStrategy}">
                                                    <form:fields>
                                                        <ComboBox selectedKey="{Folio>/EstSalida}" required="true" id="exitStrategy" items="{
                                                                    path : 'Catalogos>/EstrategiaSalida/results'
                                                                }">
                                                            <items>
                                                                <core:Item key="{Catalogos>value}" text="{Catalogos>text}"/>
                                                            </items>
                                                        </ComboBox>
                                                    </form:fields>
                                                </form:FormElement>
                                                <!--form:FormElement label="{appTxts>/products.endOfValidity}">
                                                    <form:fields>
                                                        <Input required="true" type="Text" value="{Folio>/FechFinv}" id="endOfValidity"/>
                                                    </form:fields>
                                                </form:FormElement-->
                                                <form:FormElement label="{appTxts>/products.negotiatedFormat}">
                                                    <form:fields>
                                                        <ComboBox selectedKey="{Folio>/ForNegoc}" required="true" id="negotiatedFormat" items="{
                                                                    path : 'Catalogos>/NegotiatedFormat/results'
                                                                }">
                                                            <items>
                                                                <core:Item key="{Catalogos>value}" text="{Catalogos>text}"/>
                                                            </items>
                                                        </ComboBox>
                                                        <!-- <RadioButtonGroup select=".onSelectNegotiatedFormat" id="negotiatedFormat">
                                                            <RadioButton id="negotiatedFormat-super-hipermercado" text="{appTxts>/products.hyperSuperOption}" selected="true" />
                                                            <RadioButton id="negotiatedFormat-mercado-express" text="{appTxts>/products.expressOption}" />
                                                            <RadioButton visible="false" id="negotiatedFormat-mega" text="{appTxts>/products.megaOption}" />
                                                        </RadioButtonGroup> -->
                                                    </form:fields>
                                                </form:FormElement>
                                            </form:formElements>
                                        </form:FormContainer>
                                    </form:formContainers>
                                </form:Form>
						</VBox>
					</WizardStep>
					<WizardStep id="ProductPresentation"
								validated="true"
								title="{appTxts>/products.titleTabPresentation}"
								complete="activateProductPresentation">
						<!--MessageStrip class="sapUiSmallMarginBottom"
								text="Validation in the wizard is controlled by calling the validateStep(Step) and invalidateStep(Step) methods "
								showIcon="true"/-->
						<Text text="{appTxts>/products.msgComptData}"/>
						<VBox class="sapUiSmallMargin"
								alignItems="Center"
								justifyContent="Center"
								width="100%">
                                <form:Form id="formPresentation"
                                    editable="true">
                                    <form:layout>
                                        <form:ColumnLayout
                                            columnsM="2"
                                            columnsL="3"
                                            columnsXL="3"
                                        />
                                    </form:layout>
                                    <form:formContainers>
                                        <form:FormContainer>
                                            <form:formElements>
                                                <form:FormElement  label="{appTxts>/products.labelPresentation}">
                                                    <form:fields>
                                                        <ComboBox required="true" selectedKey="{Folio>/Present}" id="presentation" items="{
                                                                    path : 'Catalogos>/Presentaciones/results'
                                                                }">
                                                            <items>
                                                                <core:Item key="{Catalogos>AbrPres}" text="{Catalogos>Descpres}"/>
                                                            </items>
                                                        </ComboBox>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.labelContent}">
                                                    <form:fields>
                                                        <Input required="true" id="content" value="{Folio>/Contenido}"  type="Number"/>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.labelUnitMeasure}">
                                                    <form:fields>
                                                        <ComboBox required="true" selectedKey="{Folio>/UndCont}" id="contentUnit" items="{
                                                                    path : 'Catalogos>/UnidadMedida/results'
                                                                }">
                                                            <items>
                                                                <core:Item key="{Catalogos>IsoCode}" text="{Catalogos>Unidad}"/>
                                                            </items>
                                                        </ComboBox>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.salesCode}">
                                                    <form:fields>
                                                        <Input required="true" id="salesCode" value="{Folio>/CodVent}" type="Number"/>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.salesUnitMeasure}">
                                                    <form:fields>
                                                        <ComboBox required="true" selectedKey="{Folio>/UndMventa}" id="salesUnit" items="{
                                                                    path : 'Catalogos>/UnidadMedida/results'
                                                                }">
                                                            <items>
                                                                <core:Item key="{Catalogos>IsoCode}" text="{Catalogos>Unidad}"/>
                                                            </items>
                                                        </ComboBox>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.purchaseUnitCode}">
                                                    <form:fields>
                                                        <Input required="true" value="{Folio>/CodCompra}" id="purchaseUnitCode" type="Number"/>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.purchaseUnit}">
                                                    <form:fields>
                                                        <ComboBox selectedKey="{Folio>/UndCompra}" required="true" id="purchaseUnit" items="{
                                                                    path : 'Catalogos>/UnidadMedida/results'
                                                                }">
                                                            <items>
                                                                <core:Item key="{Catalogos>IsoCode}" text="{Catalogos>Unidad}"/>
                                                            </items>
                                                        </ComboBox>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.packingCapacity}">
                                                    <form:fields>
                                                        <Input required="true" value="{Folio>/CapEmpaq}" id="boardingCapacity" type="Number"/>
                                                    </form:fields>
                                                </form:FormElement>

                                                <form:FormElement label="{appTxts>/products.colorFlavArom}">
                                                    <form:fields>
                                                        <Input value="" id="qualities"/>
                                                    </form:fields>
                                                </form:FormElement>
                                                <form:FormElement label="{appTxts>/products.size}">
                                                    <form:fields>
                                                        <Input value="{Folio>/Taltam}" id="size"/>
                                                    </form:fields>
                                                </form:FormElement>

                                                <form:FormElement label="{appTxts>/products.artWithVarients}">
                                                    <form:fields>
                                                        <CheckBox id="variants" select=".changeVariants" />
                                                    </form:fields>
                                                </form:FormElement>
                                                
                                                <form:FormElement visible="false" id="characteristicFormElement" label="{appTxts>/products.artWithVarients}">
                                                    <form:fields>
                                                        <ComboBox selectedKey="{Folio>/VariantArt}" id="characteristic" items="{
                                                                    path : 'Catalogos>/Caracteristicas/results'
                                                                }"> 
                                                            <items>
                                                                <core:Item key="{Catalogos>Caracteristica}" text="{Catalogos>Caracteristica}"/>
                                                            </items>
                                                        </ComboBox>
                                                    </form:fields>
                                                </form:FormElement>
                                            </form:formElements>
                                        </form:FormContainer>
                                    </form:formContainers>
                                </form:Form>
						</VBox>
					</WizardStep>
					<WizardStep id="VariantStep"
								validated="true"
								complete="completeValidateVariantStep"
								title="{appTxts>/products.titleTabVariants}">
						<!--MessageStrip class="sapUiSmallMarginBottom"
								text="You can validate steps by default with the validated='true' property of the step. The next button is always enabled."
								showIcon="true"/-->
						<VBox>
                            <Table mode="MultiSelect" id="tableWizardVariants"
                                items="{ path : 'ITARTVAR>/results'}">
                                <headerToolbar>
                                    <OverflowToolbar>
                                        <ToolbarSpacer/>
                                        
                                        <Select 
                                            id="paginatedWizardVariants"
                                            visible="{= ${ITARTVAR>/Paginated/results/length} > 0 }"
                                            change=".paginar(${$parameters>/selectedItem}, 'ITARTVAR', '', 'tableWizardVariants')">
                                            <items>
                                                <core:Item key="10" text="10"/>
                                                <core:Item key="20" text="20"/>
                                                <core:Item key="50" text="50"/>
                                                <core:Item key="100" text="100"/>
                                            </items>
                                        </Select>
                                        <Button text="{appTxts>/products.addButton}" id="newVariant" press="addOptionalInfo" type="Emphasized" />
                                    </OverflowToolbar>
                                </headerToolbar>
                                <columns>
                                    <Column width="auto" hAlign="Left">
                                        <header>
                                            <Text text="No" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </header>
                                        <footer/>
                                    </Column>
                                    <Column width="auto" hAlign="Left">
                                        <header>
                                            <Text text="{appTxts>/products.size}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </header>
                                        <footer/>
                                    </Column>
                                    <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <header>
                                            <Text text="{appTxts>/products.colorFlavArom}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </header>
                                    </Column>
                                    <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <header>
                                        <Text text="EAN/UPC" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </header>
                                        <footer/>
                                    </Column>
                                    <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <header>
                                        <Text text="{appTxts>/products.packagingCode}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </header>
                                        <footer/>
                                    </Column>
                                    <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <header>
                                        <Text text="{appTxts>/products.proportion}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </header>
                                        <footer/>
                                    </Column>
                                                    
                                </columns>
                                <items>
                                    <ColumnListItem press="onListItemPress">
                                        <cells>
                                            <ObjectIdentifier text="{ITARTVAR>index}" />
                                            <ComboBox selectedKey="{ITARTVAR>CaracTalla}" value="{ITARTVAR>CaracTalla}" items="{path : 'Catalogos>/TallaSize/results'}">
                                                <items>
                                                    <core:Item key="{Catalogos>Valorcarac}" text="{Catalogos>Valorcarac}"/>
                                                </items>
                                            </ComboBox>
                                            <ComboBox selectedKey="{ITARTVAR>Colsabaro}" items="{path : 'Catalogos>/ColorSaborAroma/results'}">
                                                <items>
                                                    <core:Item key="{Catalogos>Valorcarac}" text="{Catalogos>Valorcarac}"/>
                                                </items>
                                            </ComboBox>
                                            <Input value="{ITARTVAR>CodVent}" change=".changeQty"></Input>
                                            
                                            <Input value="{ITARTVAR>CodCompra}" change=".changeQty"></Input>
                                            <Input value="{ITARTVAR>Proporcion}" change=".changeQty"></Input>
                                            
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                            <OverflowToolbar visible="{= ${ITARTVAR>/Paginated/results/length} > 0 }">
                                <Text text="{ITARTVAR>/Paginated/initRow} - {ITARTVAR>/Paginated/endRow} {appTxts>/pagination.of} {ITARTVAR>/results/length}" />
                                <ToolbarSpacer/>
                                <Button type="Default" icon="sap-icon://slim-arrow-left" press=".prevPagination(${ITARTVAR>/Paginated/iterator}, ${ITARTVAR>/Paginated/initRow}, 'ITARTVAR', '/selecteds')" enabled="{= ${ITARTVAR>/Paginated/iterator} !== 1}" />
                                <Button type="Default" icon="sap-icon://slim-arrow-right" press=".nextPagination(${ITARTVAR>/Paginated/iterator}, ${ITARTVAR>/Paginated/endRow}, 'ITARTVAR', '/selecteds')" enabled="{= ${ITARTVAR>/Paginated/endRow} !== ${ITARTVAR>/results/length}}" />
                            </OverflowToolbar>
                            <Button text="{appTxts>/products.deleteButton}" id="newVariantDelete" press=".deleteRow('tableWizardVariants', 'ITARTVAR')" type="Emphasized" />
                        </VBox>
					</WizardStep>
					<WizardStep id="DimensionsStep"
								complete="validateCompleteStepDimensions"
								validated="true"
								title="{appTxts>/products.titleTabDimensions}">
						<!--MessageStrip class="sapUiSmallMarginBottom"
								text="You can use the wizard previousStep() and nextStep() methods to navigate from step to step without validation. Also you can use the GoToStep(step) method to scroll programmatically to previously visited steps."
								showIcon="true"/-->
                        <VBox class="sapUiSmallMargin">
                            <form:SimpleForm
                                    editable="true"
                                    layout="ResponsiveGridLayout"
                                    columnsXL="3"
                                    columnsL="2"
                                    columnsM="2"
                                    singleContainerFullSize="false">
                                <form:content>

                                    <core:Title text="{app>/products.subTitleBoardingPerPurchase}" />
                                    <Label text="{appTxts>/products.tall}" />
                                    <Input id="EcAlto" value="{Folio>/EcAlto}" type="Number" required="true" liveChange="calcularECVolumen" />
                                    <Label text="{appTxts>/products.width}" />
                                    <Input id="EcAncho" value="{Folio>/EcAncho}" type="Number" required="true" liveChange="calcularECVolumen" />
                                    <Label text="{appTxts>/products.deep}" />
                                    <Input id="EcProfundo" value="{Folio>/EcProfundo}" type="Number" required="true" liveChange="calcularECVolumen" />
                                    <Label text="{appTxts>/products.msgExpressedIn}" />
                                    <Input value="{Folio>/EcUndaap}" required="true" />
                                    <Label text="{appTxts>/products.volume}" />
                                    <Input id="EcVolumen" value="{Folio>/EcVolumen}" type="Number" editable="false" enabled="true" />
                                    <Label text="{appTxts>/products.volumeUnit}" />
                                    <ComboBox selectedKey="{Folio>/EcUndvol}" items="{path : 'Catalogos>/UnidadVolumen/results'}" required="true">
                                        <items>
                                            <core:Item key="{Catalogos>value}" text="{Catalogos>text}"/>
                                        </items>
                                    </ComboBox>
                                    <Label text="{appTxts>/products.grossWeight}" />
                                    <Input value="{Folio>/EcPbruto}"  type="Number" required="true"/>
                                    <Label text="{appTxts>/products.netWeight }" />
                                    <Input value="{Folio>/EcPneto}" type="Number" required="true" />
                                    <Label text="{appTxts>/products.weightUnit }" />
                                    <ComboBox selectedKey="{Folio>/EcUndp}" items="{path : 'Catalogos>/UnidadPeso/results'}" required="true">
                                        <items>
                                            <core:Item key="{Catalogos>value}" text="{Catalogos>text}"/>
                                        </items>
                                    </ComboBox>
                                    <!-- <Input value="{Folio>/EcUndp}" required="true"/> -->

                                    <core:Title text="{appTxts>/products.subtitlesalesPresen}" />
                                    <Label text="{appTxts>/products.tall}" />
                                    <Input id="PvAlto" value="{Folio>/PvAlto}" type="Number" required="true" liveChange="calcularPvVolumen" />
                                    <Label text="{appTxts>/products.width}" />
                                    <Input id="PvAncho" value="{Folio>/PvAncho}" type="Number" required="true" liveChange="calcularPvVolumen"/>
                                    <Label text="{appTxts>/products.deep}" />
                                    <Input id="PvProfundo" value="{Folio>/PvProfundo}" type="Number" required="true" liveChange="calcularPvVolumen"/>
                                    <Label text="{appTxts>/products.msgExpressedIn}" />
                                    <Input value="{Folio>/PvUndaap}" required="true" />
                                    <Label text="{appTxts>/products.volume}" />
                                    <Input id="PvVolumen" value="{Folio>/PvVolumen}" type="Number" editable="false" enabled="true" required="true"/>
                                    <Label text="{appTxts>/products.volumeUnit}" />
                                    <ComboBox selectedKey="{Folio>/PvUndvol}" items="{path : 'Catalogos>/UnidadVolumen/results'}" required="true">
                                        <items>
                                            <core:Item key="{Catalogos>value}" text="{Catalogos>text}"/>
                                        </items>
                                    </ComboBox>
                                    <Label text="{appTxts>/products.grossWeight}" />
                                    <Input value="{Folio>/PvPbruto}" type="Number" required="true"/>
                                    <Label text="{appTxts>/products.netWeight}" />
                                    <Input value="{Folio>/PvPneto}" type="Number" required="true"/>
                                    <Label text="{appTxts>/products.weightUnit}" />
                                    <ComboBox selectedKey="{Folio>/PvUndp}" items="{path : 'Catalogos>/UnidadPeso/results'}" required="true">
                                        <items>
                                            <core:Item key="{Catalogos>value}" text="{Catalogos>text}" />
                                        </items>
                                    </ComboBox>
                                    <!-- <Input value="{Folio>/PvUndp}" required="true"/> -->

                                    <core:Title text="{appTxts>/products.capPerPallet}" />
                                    <Label text="{appTxts>/products.palletCode}" />
                                    <Input value="{Folio>/CodTarima}" type="Number" required="true"/>
                                    <Label text="{appTxts>/products.boxesByContent}" />
                                    <Input value="{Folio>/CajasTend}" type="Number" required="true"/>

                                    <Label text="{appTxts>/products.stretchedByPlatform}" />
                                    <Input value="{Folio>/TendTarima}" type="Number" required="true" />
                                    <Label text="{appTxts>/products.boxesPerPallet}" />
                                    <Input value="{Folio>/CajasTarima}" type="Number" required="true" />
                                </form:content>
                            </form:SimpleForm>
                        </VBox>
					</WizardStep>
                    <WizardStep id="Discounts"
								activate="pricingActivate"
								complete="validateDiscounts"
								validated="false"
								title="{appTxts>/products.titleTabDiscounts}">
						<!--MessageStrip class="sapUiSmallMarginBottom"
								text="You can use the wizard previousStep() and nextStep() methods to navigate from step to step without validation. Also you can use the GoToStep(step) method to scroll programmatically to previously visited steps."
								showIcon="true"/-->
                        <VBox class="sapUiSmallMargin">
                            <form:SimpleForm
                                    editable="true"
                                    layout="ResponsiveGridLayout"
                                    title="Datos"
                                    labelSpanXL="4"
                                    labelSpanL="4"
                                    labelSpanM="4"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="0"
                                    emptySpanL="0"
                                    emptySpanM="0"
                                    emptySpanS="0"
                                    columnsXL="3"
                                    columnsL="2"
                                    columnsM="2"
                                    singleContainerFullSize="false">
                                <form:content>

                                    <core:Title text="Descuentos" />

                                    <Label text="Descuento normal (%)" />
                                    <Input id="DscNormal" value="{Folio>/DscNormal}" type="Number" placeholder="{appTxts>/products.porcentajetxt}" liveChange="calcularCostNetCom" />

                                    <Label text="Descuento normal 2  (%)" />
                                    <Input id="DscNormal2" value="{Folio>/DscNormal2}"  type="Number" placeholder="{appTxts>/products.porcentajetxt}" liveChange="calcularCostNetCom" />

                                    <Label text="Descuento normal 3  (%)" />
                                    <Input id="DscNormal3" value="{Folio>/DscNormal3}" type="Number" placeholder="{appTxts>/products.porcentajetxt}" liveChange="calcularCostNetCom" />
                                    
                                    <Label text="Descuento adicional  (%)" />
                                    <Input id="DscAdicional" value="{Folio>/DscAdicional}" type="Number" placeholder="{appTxts>/products.porcentajetxt}" liveChange="calcularCostNetCom" />

                                    <Label text="Descuento pronto pago  (%)" />
                                    <Input id="DscPpago" value="{Folio>/DscPpago}" type="Number" placeholder="{appTxts>/products.porcentajetxt}" liveChange="calcularCostNetCom" />

                                    <core:Title text="Bonificación" />

                                    <Label text="Tipo de bonificación " />
                                    <!-- <Input value="{Folio>/Bonif}" /> -->
                                    <ComboBox selectedKey="{Folio>/TipoBonif}" items="{path : 'Catalogos>/TiposBonificacion/results'}" required="true" change="changeTipoBonif">
                                        <items>
                                            <core:Item key="{Catalogos>text}" text="{Catalogos>text}" />
                                        </items>
                                    </ComboBox>

                                    <Label text="Valor de bonificación (%)" />
                                    <Input id="ValBoni" value="{Folio>/ValBoni}" type="Number" placeholder="{appTxts>/products.porcentajetxt}"  liveChange="calcularCostNetCom" editable="false"/>

                                    <Label text="Unidades de bonificación" />
                                    <Input id="UnisBonif"  value="{Folio>/UndBon}" type="Number"  editable="false"/>
                                    

                                    <core:Title text="Costos de compra" />
                                    <!--Label text="Costos" />
                                    <RadioButtonGroup id="radioCostos" >
                                        <RadioButton id="radioCompra" text="Un compra" />
                                        <RadioButton id="radioVenta" text="Un venta" />
                                    </RadioButtonGroup-->
                                    <Label text="Costo bruto" />
                                    <Input id="CostoB" value="{Folio>/CostoB}" type="Number" required="true" liveChange="calcularCostNetVen"/>
                                    <Label text="Capacidad de embarque" />
                                    <Input id="CapEmpaq2" value="{Folio>/CapEmpaq}" type="Number" required="true" editable="false" liveChange="calcularCostNetVen"/>
                                    <Label text="Costo Neto Unidad de compra" />
                                    <Input id="CostNetComp" value="{Folio>/CostNUCompra}"  type="Number" required="true" editable="false"/>
                                    <Label text="Costo Neto Unidad de venta" />
                                    <Input id="CostNetVen" value="{Folio>/CostNUVenta}" type="Number" required="true" editable="false"/>
                                    <Label text="Precio sugerido" />
                                    <Input id="PSug" value="{Folio>/PSug}" type="Number" required="true"/>
                                    
                                </form:content>
                            </form:SimpleForm>
                        </VBox>
					</WizardStep>

                    <!-- Upload Images Step -->
                    <WizardStep 
                        id="ImagesStep"
						complete="onImageStepComplete"
						validated="true"
						title="{appTxts>/products.titleTabImages}">

                        <Text text="En esta pantalla se muestran las imágenes que se tienen registradas en GS1 y podrá agregar nuevas imágenes."/>

                        <upload:UploadSet 
                            id="ImageUploadSet" 
                            instantUpload="false" 
                            showIcons="false"
                            uploadEnabled="true" 
                            terminationEnabled="true" 
                            fileTypes="png,jpg,jpeg" 
                            maxFileNameLength="20" 
                            maxFileSize="4" 
                            items="{path:'FolioImages>/items', templateShareable: false}" 
                            multiple="true"
                            mode="MultiSelect"
                            afterItemAdded="imageAfterAddedTriggered"
                            afterItemRemoved="imageRemovedTriggered"
                        >

                            <upload:toolbar>
                                        <OverflowToolbar>
                                             <Label text="Cantidad de imagenes: "/>
                                             <Text id="imagesCounter" text="0"/> 
                                             <ToolbarSpacer/>            
                                        </OverflowToolbar>
                            </upload:toolbar>

                            <upload:items>
                                <upload:UploadSetItem 
                                    fileName="{FolioImages>fileName}" 
                                    mediaType="{FolioImages>mediaType}" 
                                    url="{FolioImages>url}" 
                                    thumbnailUrl="{FolioImages>thumbnailUrl}" 
                                    uploadState="{FolioImages>uploadState}">
                                    
                                </upload:UploadSetItem>
                            </upload:items>
                        </upload:UploadSet>
								
					</WizardStep>

                    <!-- Review Step -->
					<WizardStep id="ReviewPage"
							activate="reviewActivate"
							complete="reviewComplete"
							validated="true"
							title="Review page">
								<form:SimpleForm
										title="1. Datos Generales"
										minWidth="1024"
										editable="false"
										layout="ResponsiveGridLayout">
									<form:content>
										<Label text="Código de barras"/>
										<Text text="{Folio>/CodEan}" />
                                        
                                        <Label text="Producto Base"/>
                                        <Text text="{FolioToShow>/ProdBase}" />

                                        <Label text="Tipo de articulo"/>
                                        <Text text="{FolioToShow>/TipArt}" />

                                        <Label text="Grupo de Compras"/>
                                        <Text text="{FolioToShow>/PurGroup}" />

                                        <Label text="Grupo de Articulo"/>
                                        <Text text="{FolioToShow>/GrupArt}" />

                                        <Label text="Proveedor"/>
                                        <Text text="{configSite>/supplierInput}" />

                                        <Label text="Marca"/>
                                        <Text text="{FolioToShow>/Marca}" />

                                        <Label text="{appTxts>/products.codeType}"/>
                                        <Text text="{FolioToShow>/EanUpcType}" />

                                        <Label text="{appTxts>/products.country}"/>
                                        <Text text="{FolioToShow>/Pais}" />

                                        <Label text="{appTxts>/products.model}"/>
                                        <Text text="{FolioToShow>/Modelo}" />

                                        <Label text="{appTxts>/products.description}"/>
                                        <Text text="{FolioToShow>/DescrArt}" />

                                        <Label text="Caracteristica Principal"/>
                                        <Text text="{FolioToShow>/CaracPrin}" />

                                        <Label text="{appTxts>/products.feature2}"/>
                                        <Text text="{FolioToShow>/Carac2}" />

                                        <Label text="{appTxts>/products.feature3}"/>
                                        <Text text="{FolioToShow>/Carac3}" />

                                        <Label text="{appTxts>/products.labelType}"/>
                                        <Text text="{FolioToShow>/TipEtq}" />

                                        <Label text="{appTxts>/products.exitStrategy}"/>
                                        <Text text="{FolioToShow>/EstSalida}" />

                                        <Label text="{appTxts>/products.negotiatedFormat}"/>
                                        <Text text="{FolioToShow>/ForNegoc}" />										

                                        <!-- TERMINA REVIEWE 1 -->
										
									</form:content>
								</form:SimpleForm>

								<form:SimpleForm
										title="2. Presentación "
										minWidth="1024"
										editable="false"
										layout="ResponsiveGridLayout">
									<form:content>

										<Label text="Presentación"/>
										<Text text="{FolioToShow>/Present}"/>

										<Label text="Contenido"/>
										<Text text="{FolioToShow>/Contenido}"/>

										<Label text="Unidad de medida de contenido"/>
										<Text text="{FolioToShow>/UndCont}"/>

										<Label text="Código de venta"/>
										<Text text="{FolioToShow>/CodVent}"/>

										<Label text="Unidad de medida de venta"/>
										<Text text="{FolioToShow>/UndMventa}"/>

										<Label text="Código de unidad de compra"/>
										<Text text="{FolioToShow>/CodCompra}"/>

										<Label text="Unidad de compra"/>
										<Text text="{FolioToShow>/UndCompra}"/>

										<Label text="Capacidad de empaque"/>
										<Text text="{FolioToShow>/CapEmpaq}"/>

										<Label text="Artículo con variantes"/>
										<Text text="{FolioToShow>/VariantArt}"/>

										<Label text="Color / Sabor / Aroma"/>
										<Text text="{FolioToShow>/Taltam}"/>

										<Label text="Talla / Tamaño"/>
										<Text text="{FolioToShow>/Taltam}"/>

										<Label text="Caracteristica Variante"/>
										<Text text="{FolioToShow>/VariantArt}"/>

                                         <!-- TERMINA SEGUNOD REVIEWE -->
									</form:content>
								</form:SimpleForm>

								<form:SimpleForm
										title="3. Dimenciones"
										minWidth="1024"
										editable="false"
										layout="ResponsiveGridLayout">
									<form:content>

                                    <core:Title text="Presentación de Compra" />

                                    <Label text="Alto" />
                                    <Text text="{FolioToShow>/EcAlto}"/>

                                    <Label text="Ancho" />
                                    <Text text="{FolioToShow>/EcAncho}" />

                                    <Label text="Profundo" />
                                    <Text text="{FolioToShow>/EcProfundo}" />

                                    <Label text="Expresado en" />
                                    <Text text="{FolioToShow>/EcUndaap}"  />

                                    <Label text="Volumen" />
                                    <Text text="{FolioToShow>/EcVolumen}" />

                                    <Label text="Unidad de volumen" />
                                    <Text text="{FolioToShow>/EcUndvol}" />

                                    <Label text="Peso bruto" />
                                    <Text text="{FolioToShow>/EcPbruto}"  />

                                    <Label text="Peso neto" />
                                    <Text text="{FolioToShow>/EcPneto}" />

                                    <Label text="Unidad de peso" />
                                    <Text text="{FolioToShow>/EcUndp}" />

                                    <core:Title text="Presentación de venta" />
                                    <Label text="Alto" />
                                    <Text text="{FolioToShow>/PvAlto}" />

                                    <Label text="Ancho" />
                                    <Text text="{FolioToShow>/PvAncho}" />

                                    <Label text="Profundo" />
                                    <Text text="{FolioToShow>/PvProfundo}" />

                                    <Label text="Expresado en" />
                                    <Text text="{FolioToShow>/PvUndaap}"  />

                                    <Label text="Volumen" />
                                    <Text text="{FolioToShow>/PvVolumen}"/>

                                    <Label text="Unidad de volumen" />
                                    <Text text="{FolioToShow>/PvUndvol}"/>

                                    <Label text="Peso bruto" />
                                    <Text text="{FolioToShow>/PvPbruto}" />

                                    <Label text="Peso neto" />
                                    <Text text="{FolioToShow>/PvPneto}"/>

                                    <Label text="Unidad de peso" />
                                    <Text text="{FolioToShow>/PvUndp}"/>

                                    <core:Title text="Capacidad por tarima" />

                                    <Label text="Código de tarima" />
                                    <Text text="{FolioToShow>/CodTarima}" />

                                    <Label text="Cajas por contenido" />
                                    <Text text="{FolioToShow>/CajasTend}" />

                                    <Label text="Tendidos por tarima" />
                                    <Text text="{FolioToShow>/TendTarima}" />

                                    <Label text="Cajas por tarima" />
                                    <Text text="{FolioToShow>/CajasTarima}" />

									</form:content>

								</form:SimpleForm>

								<form:SimpleForm
										title="4. Descuentos, Bonificación y costos"
										minWidth="1024"
										editable="false"
										layout="ResponsiveGridLayout">
									<form:content>

                                    <core:Title text="Descuentos" />

                                    <Label text="Descuento normal (%)" />
                                    <Text text="{FolioToShow>/DscNormal}" />

                                    <Label text="Descuento normal 2  (%)" />
                                    <Text text="{FolioToShow>/DscNormal2}"  />

                                    <Label text="Descuento normal 3  (%)" />
                                    <Text text="{FolioToShow>/DscNormal3}"  />
                                    
                                    <Label text="Descuento adicional  (%)" />
                                    <Text text="{FolioToShow>/DscAdicional}" />

                                    <Label text="Descuento pronto pago  (%)" />
                                    <Text text="{FolioToShow>/DscPpago}"  />

                                    <core:Title text="Bonificación" />

                                    <Label text="Tipo de bonificación " />
                                    <Text text="{FolioToShow>/Bonif}" />

                                    <Label text="Valor de bonificación (%)" />
                                    <Text text="{FolioToShow>/ValBoni}" />

                                    <Label text="Unidades de bonificación" />
                                    <Text text="{FolioToShow>/UndBon}" />
                                    
                                    <core:Title text="Costos de compra" />

                                    <Label text="Costo Bruto" />
                                    <Text text="{FolioToShow>/CostoB}" />

                                    <Label text="Capacidad de Empaque" />
                                    <Text text="{FolioToShow>/CapEmpaq}" />

                                    <Label text="Costo Neto Unidad de Compra" />
                                    <Text text="{FolioToShow>/CostNUCompra}" />

                                    <Label text="Costo Neto Unidad de Venta" />
                                    <Text text="{FolioToShow>/CostNUVenta}" />

                                    <Label text="Precio Sugerido" />
                                    <Text text="{FolioToShow>/PSug}" />
                                    
									</form:content>
								</form:SimpleForm>

                                <form:SimpleForm
										title="4. Imagenes "
										minWidth="1024"
										editable="false"
										layout="ResponsiveGridLayout">
                                        <form:content>

                                            <f:GridList
                                                id="gridList"
                                                items="{FolioImages>/items}">
                                                <f:GridListItem>
                                                    <VBox class="sapUiSmallMargin">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1" shrinkFactor="0" /> <!-- Don't shrink below minimum size. Fill space if available. -->
                                                        </layoutData>

                                                        <Title text="{FolioImages>mProperties/fileName}" wrapping="true" />
                                                        <Image
                                                            src="{
                                                                path: 'FolioImages>mProperties/url'
                                                            }"
                                                            width="100%"
                                                            height="100%"
                                                            alt="{FolioImages>mProperties/fileName}"
                                                            class="sapUiTinyMarginTop"/>
                                                    </VBox>
                                                </f:GridListItem>
                                            </f:GridList>
                                        
                                        </form:content>
                                </form:SimpleForm>
					</WizardStep>
				</Wizard>
			</f:content>

			<f:footer>
				<OverflowToolbar>
					<ToolbarSpacer/>
					<Button text="{appTxts>/products.previous}" visible="{/backButtonVisible}" press="onDialogBackButton" />
					<Button text="{appTxts>/products.nextStep}" type="Emphasized" enabled="{/nextButtonEnabled}" visible="{/nextButtonVisible}" press="onDialogNextButton" />
					<Button text="Review" type="Emphasized" visible="{/reviewButtonVisible}" press="onDialogNextButton" />
					<Button text="{appTxts>/products.finish}" type="Emphasized" visible="{/finishButtonVisible}" press="handleWizardSubmit" />
					<Button	text="{appTxts>/products.cancel}" type="Transparent" press="handleWizardCancel"/>
				</OverflowToolbar>
			</f:footer>
		</f:DynamicPage>
	</Dialog>
</core:FragmentDefinition>