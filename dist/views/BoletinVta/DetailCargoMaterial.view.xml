<mvc:View 
    displayBlock="true" 
    controllerName="demo.controllers.BoletinVta.DetailCargoMaterial" 
    height="100%"
    xmlns="sap.uxap"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    xmlns:f="sap.f"
    xmlns:form="sap.ui.layout.form">
	<ObjectPageLayout 
        id="ObjectPageLayout"
        showTitleInHeaderContent="true"
        alwaysShowContentHeader="false"
        preserveHeaderStateOnScroll="false"
        headerContentPinnable="true"
        isChildPage="true"
        upperCaseAnchorBar="false">
        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <expandedHeading>
                    <m:Title text="{appTxts>/PolizadetCargo.Centro} {debitDetMatModel>/Forum}" wrapping="true" class="sapUiSmallMarginEnd"/>
                </expandedHeading>
                <snappedHeading>
                    <m:FlexBox wrap="Wrap" fitContainer="true" alignItems="Center">
                        <m:FlexBox wrap="NoWrap" fitContainer="true" alignItems="Center" class="sapUiTinyMarginEnd">
                            <f:Avatar src="../../../../../../../{products>ProductPicUrl}" displaySize="S" displayShape="Square" class="sapUiTinyMarginEnd"/>
                            <!-- <m:Title text="{debitDetMatModel>/Forum} {debitDetMatModel>/ForumDesc}" wrapping="true" class="sapUiTinyMarginEnd"/> -->
                        </m:FlexBox>
                    </m:FlexBox>
                </snappedHeading>
                <navigationActions>
                    <m:OverflowToolbarButton type="Transparent" icon="sap-icon://full-screen" press="handleFullScreen" id="enterFullScreenBtn" tooltip="Enter Full Screen Mode" visible="{= ${/actionButtonsInfo/endColumn/fullScreen} !== null }"/>
                    <m:OverflowToolbarButton type="Transparent" icon="sap-icon://exit-full-screen" press="handleExitFullScreen" id="exitFullScreenBtn" tooltip="Exit Full Screen Mode" visible="{= ${/actionButtonsInfo/endColumn/exitFullScreen} !== null }"/>
                    <m:OverflowToolbarButton type="Transparent" icon="sap-icon://decline" press="handleClose"  tooltip="Close column" visible="{= ${/actionButtonsInfo/endColumn/closeColumn} !== null }"/>
                </navigationActions>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>
		<sections>
			<ObjectPageSection >
				<subSections>
					<ObjectPageSubSection>
						<blocks>
							<m:Table 
                                sticky="HeaderToolbar,InfoToolbar,ColumnHeaders" 
                                noDataText="{appTxts>/polizas.noData}" 
                                id="debitMatTable"
                                alternateRowColors="true" 
                                items="{debitMatDet>/}">
                                <m:headerToolbar>
                                    <m:OverflowToolbar>
                                        <m:Title text="{appTxts>/polizas.Position} ({debitMatDet>/length})" />
                                        <m:ToolbarSpacer/>
                                        <m:Button icon="sap-icon://excel-attachment" text="{appTxts>/global.export}" 
                                            press=".buildExportTable"
                                            visible="{= ${debitMatDet>/length} > 0}"
                                        />
                                    </m:OverflowToolbar>
                                </m:headerToolbar>
								<m:columns>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/PolizadetCargo.Material}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                        <m:footer>
                                            <m:Text id="txtT" text="Total" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:footer>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/PolizadetCargo.Costo}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                        <m:footer>
                                            <m:ObjectNumber id="OBNC"
                                                number="{
                                                    parts:[{path:'debTotMatModel>/TotCost'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debTotMatModel>/currCode}" />
                                        </m:footer>
                                    </m:Column>
                                    
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/PolizadetCargo.Qty}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                        <m:footer>
                                            <m:ObjectNumber id="OBNCQ"
                                                number="{
                                                    parts:[{path:'debTotMatModel>/TotQty'},{path:'uom'}],
                                                    type: 'sap.ui.model.type.Unit',
                                                    formatOptions: {showMeasure: false}
                                                    }"/>
                                        </m:footer>
                                    </m:Column>
                                    
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/PolizadetCargo.discount}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                        <m:footer>
                                            <m:ObjectNumber id="OBNBD"
                                                number="{
                                                    parts:[{path:'debTotMatModel>/TotDiscount'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debTotMatModel>/currCode}" />
                                        </m:footer>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/PolizadetCargo.bonus}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                        <m:footer>
                                            <m:ObjectNumber id="OBNB"
                                                number="{
                                                    parts:[{path:'debTotMatModel>/TotBonus'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debTotMatModel>/currCode}" />
                                        </m:footer>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/PolizadetCargo.IEPS}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                        <m:footer>
                                            <m:ObjectNumber id="OBNE"
                                                number="{
                                                    parts:[{path:'debTotMatModel>/TotIEPS'},{path:'Currency'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debTotMatModel>/currCode}" />
                                        </m:footer>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/PolizadetCargo.IVA}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                        <m:footer>
                                            <m:ObjectNumber id="OBNT"
                                                number="{
                                                    parts:[{path:'debTotMatModel>/TotIVA'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debTotMatModel>/currCode}" />
                                        </m:footer>
                                    </m:Column>
                                    <m:Column width="auto" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                        <m:header>
                                            <m:Text text="{appTxts>/PolizadetCargo.total}" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                        </m:header>
                                        <m:footer>
                                            <m:ObjectNumber id="OBNTt"
                                                number="{
                                                    parts:[{path:'debTotMatModel>/Total'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debTotMatModel>/currCode}" />
                                        </m:footer>
                                    </m:Column>
								</m:columns>
								<m:items>
									<m:ColumnListItem >
										<m:cells>
 
                                            <m:ObjectIdentifier title="{debitMatDet>Material}"
                                                text="{debitMatDet>MatDescription}" />
                                            
                                            <m:ObjectNumber
                                                emphasized="true"
                                                number="{
                                                    parts:[{path:'debitMatDet>Cost'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debitMatDet>Currency}"
                                                state="Success" />
                                            
                                            <m:ObjectNumber
                                                emphasized="true"
                                                number="{
                                                    parts:[{path:'debitMatDet>Qty'},{path:'uom'}],
                                                    type: 'sap.ui.model.type.Unit',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debitMatDet>uom}'"
                                                state="Success" />
                                            
                                            <m:ObjectNumber
                                                emphasized="true"
                                                number="{
                                                    parts:[{path:'debitMatDet>Discount'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debitMatDet>Currency}"
                                                state="Success" />
                                            <m:ObjectNumber
                                                emphasized="true"
                                                number="{
                                                    parts:[{path:'debitMatDet>Bonus'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debitMatDet>Currency}"
                                                state="Success" />
                                            <m:ObjectNumber
                                                emphasized="true"
                                                number="{
                                                    parts:[{path:'debitMatDet>Ieps'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debitMatDet>Currency}"
                                                state="Success" />
                                            <m:ObjectNumber
                                                emphasized="true"
                                                number="{
                                                    parts:[{path:'debitMatDet>Tax'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debitMatDet>Currency}"
                                                state="Success" />
                                            <m:ObjectNumber
                                                emphasized="true"
                                                number="{
                                                    parts:[{path:'debitMatDet>Total'},{path:'CurrencyCode'}],
                                                    type: 'sap.ui.model.type.Currency',
                                                    formatOptions: {showMeasure: false}
                                                        }"
                                                unit="{debitMatDet>Currency}"
                                                state="Success" />
										</m:cells>
									</m:ColumnListItem>
								</m:items>
							</m:Table>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
		</sections>
	</ObjectPageLayout>
    
</mvc:View>